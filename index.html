<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HiRAG Demo - PHQ-9 XML Highlighting in Transcript</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 15px;
        }
        .section {
            margin: 30px 0;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #3498db;
        }
        .original-transcript {
            background: #f8f9fa;
            border-left-color: #6c757d;
            font-family: monospace;
        }
        .highlighted-transcript {
            background: #fff3cd;
            border-left-color: #ffc107;
        }
        .rag-evidence {
            background: #f0f8ff;
            border-left-color: #007bff;
        }
        
        /* PHQ-9 XML tag styling */
        .phq1 { 
            background-color: #ffeb3b; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            border: 1px solid #f57f17;
        }
        .phq2 { 
            background-color: #ff9800; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            color: white;
            border: 1px solid #e65100;
        }
        .phq3 { 
            background-color: #4caf50; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            color: white;
            border: 1px solid #2e7d32;
        }
        .phq4 { 
            background-color: #2196f3; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            color: white;
            border: 1px solid #1565c0;
        }
        .phq6 { 
            background-color: #9c27b0; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            color: white;
            border: 1px solid #6a1b9a;
        }
        .phq8 { 
            background-color: #f44336; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            color: white;
            border: 1px solid #c62828;
        }
        .positive { 
            background-color: #e8f5e8; 
            padding: 2px 6px; 
            border-radius: 4px;
            font-weight: bold;
            border: 1px solid #4caf50;
            color: #2e7d32;
        }
        
        .conversation-line {
            margin: 8px 0;
            padding: 5px;
            border-radius: 5px;
        }
        .ellie {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
        }
        .participant {
            background: #f3e5f5;
            border-left: 4px solid #9c27b0;
        }
        .speaker {
            font-weight: bold;
            color: #333;
        }
        .time {
            color: #666;
            font-size: 0.8em;
        }
        
        .legend {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f5f5f5;
            border-radius: 8px;
        }
        .legend-item {
            padding: 8px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: bold;
        }
        .assessment-box {
            background: #e3f2fd;
            border: 2px solid #2196f3;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ HiRAG: XML Highlighting trong Transcript Ph·ªèng v·∫•n</h1>
        
        <div class="legend">
            <div class="legend-item phq1">PHQ-1: Interest/Pleasure</div>
            <div class="legend-item phq2">PHQ-2: Depressed Mood</div>
            <div class="legend-item phq3">PHQ-3: Sleep Issues</div>
            <div class="legend-item phq4">PHQ-4: Energy/Fatigue</div>
            <div class="legend-item phq6">PHQ-6: Self-worth</div>
            <div class="legend-item phq8">PHQ-8: Psychomotor</div>
            <div class="legend-item positive">Positive Indicators</div>
        </div>

        <div class="section original-transcript">
            <h3>üìù Original Transcript (Sample)</h3>
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what do you do to relax
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> i like reading books i enjoy i enjoy cooking um exercising is great
            </div>
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> how easy is it for you to get a good night's sleep
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> uh it's pretty easy
            </div>
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what are you like when you don't sleep well
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> irritated um lazy
            </div>
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> when was the last time you felt really happy
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> um the other day
            </div>
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> have you been diagnosed with depression
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> no
            </div>
        </div>

        <div class="section highlighted-transcript">
            <h3>üîñ Highlighted Transcript v·ªõi XML Tags PHQ-9</h3>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what do you do to relax
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> <span class="phq1">i like reading books</span> <span class="phq1">i enjoy i enjoy cooking</span> um <span class="phq8">exercising is great</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> how easy is it for you to get a good night's sleep
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> uh <span class="phq3">it's pretty easy</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what are you like when you don't sleep well
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> <span class="phq4">irritated</span> um <span class="phq4">lazy</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> when was the last time you felt really happy
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> um <span class="phq2">the other day</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> do you feel down
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> <span class="phq2">no</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> have you been diagnosed with depression
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> <span class="positive">no</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what do you think of today's kids
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> different... <span class="phq4">less interested</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> what do you do when you're annoyed
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> uh <span class="phq8">shut down</span>
            </div>
            
            <div class="conversation-line ellie">
                <span class="speaker">Ellie:</span> how would your best friend describe you
            </div>
            <div class="conversation-line participant">
                <span class="speaker">Participant:</span> <span class="positive">chocolate</span> <span class="positive">tall</span> <span class="positive">thin</span>
            </div>
        </div>

        <div class="section rag-evidence">
            <h3>üìö RAG Evidence Supporting Highlights</h3>
            
            <p><strong>Evidence for PHQ-1 (Interest/Pleasure):</strong></p>
            <p>Clinical literature shows that <span class="phq1">maintained engagement in recreational activities like reading and cooking</span> strongly indicates preserved interest and pleasure capacity, contradicting anhedonia symptoms.</p>
            
            <p><strong>Evidence for PHQ-2 (Depressed Mood):</strong></p>
            <p><span class="phq2">Recent positive mood experiences ("the other day")</span> and <span class="phq2">explicit denial of feeling down</span> suggest absence of persistent depressed mood over the past two weeks.</p>
            
            <p><strong>Evidence for PHQ-3 (Sleep):</strong></p>
            <p><span class="phq3">Self-reported ease in achieving good sleep</span> indicates normal sleep patterns, which serve as a protective factor against depression according to sleep research literature.</p>
            
            <p><strong>Evidence for PHQ-4 (Energy/Fatigue):</strong></p>
            <p><span class="phq4">Reports of irritability and laziness only when sleep-deprived</span> represent normal physiological responses rather than clinical fatigue. The context-dependent nature rules out persistent energy issues.</p>
            
            <p><strong>Evidence for PHQ-8 (Psychomotor):</strong></p>
            <p><span class="phq8">Regular exercise routine</span> demonstrates normal psychomotor function. However, <span class="phq8">"shutting down" when annoyed</span> may indicate mild avoidance behavior but not clinical psychomotor retardation.</p>
        </div>

        <div class="assessment-box">
            <h3>üéØ HiRAG Assessment K·∫øt qu·∫£</h3>
            <h4>PHQ-9 Scores d·ª±a tr√™n Highlighted Evidence:</h4>
            <ul>
                <li><strong>PHQ-1:</strong> 0/3 - <span class="phq1">Multiple enjoyable activities maintained</span></li>
                <li><strong>PHQ-2:</strong> 0/3 - <span class="phq2">Recent happiness + denies feeling down</span></li>
                <li><strong>PHQ-3:</strong> 0/3 - <span class="phq3">Good sleep quality reported</span></li>
                <li><strong>PHQ-4:</strong> 0-1/3 - <span class="phq4">Only situational tiredness when sleep-deprived</span></li>
                <li><strong>PHQ-5:</strong> 0/3 - No appetite changes mentioned</li>
                <li><strong>PHQ-6:</strong> 0/3 - <span class="positive">Positive self-description by friend</span></li>
                <li><strong>PHQ-7:</strong> 0/3 - No concentration issues reported</li>
                <li><strong>PHQ-8:</strong> 0-1/3 - <span class="phq8">Exercise routine vs. shutdown behavior</span></li>
                <li><strong>PHQ-9:</strong> 0/3 - No suicidal ideation mentioned</li>
            </ul>
            
            <p><strong>Total Estimated Score: 0-2/27</strong></p>
            <p><strong>Assessment: Minimal/No Depression</strong></p>
            
            <p><em>L∆∞u √Ω: XML highlights gi√∫p clinician d·ªÖ d√†ng trace back t·ª´ assessment score v·ªÅ evidence c·ª• th·ªÉ trong transcript, tƒÉng t√≠nh tin c·∫≠y v√† transparency c·ªßa AI system.</em></p>
        </div>
    </div>
</body>
</html>
